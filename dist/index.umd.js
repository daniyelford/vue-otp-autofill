(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("vue")):typeof define=="function"&&define.amd?define(["vue"],r):(e=typeof globalThis<"u"?globalThis:e||self,e.OtpInput=r(e.Vue))})(this,(function(e){"use strict";const r={class:"otp-container"},d=["onUpdate:modelValue","placeholder","onInput","onKeydown"],i=`
  .otp-container { direction: ltr;display: flex; gap: 0.5rem; justify-content: space-evenly; }
  .digit-box { width: 1.5rem; height: 2rem; font-size: 1rem; text-align: center; border: 2px solid black; border-radius: 6px; }
  .bounce { animation: pulse 0.3s ease-in-out alternate; } 
    @keyframes pulse { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }
  `;return{__name:"OtpInput",props:{modelValue:{type:String,default:""},length:{type:Number,default:6}},emits:["update:modelValue"],setup(p,{emit:u}){const m=e.ref(""),c=p,f=u,o=e.ref(Array.from({length:c.length},(l,t)=>c.modelValue[t]||"")),h=(l,t)=>{const a=l.target.value.replace(/[^0-9]/g,"");a&&(o.value[t]=a,t<o.value.length-1&&e.nextTick(()=>l.target.parentElement.children[t+1].focus()))},g=(l,t)=>{!o.value[t]&&t>0&&e.nextTick(()=>l.target.parentElement.children[t-1].focus())};return e.watch(o,()=>{f("update:modelValue",o.value.join(""))},{deep:!0}),e.onMounted(()=>{const l=document.createElement("style");l.textContent=i,document.head.appendChild(l),"OTPCredential"in window?window.addEventListener("DOMContentLoaded",t=>{const a=new AbortController;navigator.credentials.get({otp:{transport:["sms"]},signal:a.signal}).then(n=>{alert(n.code),o.value=n.code.split("")}).catch(n=>{console.log(n)})}):alert("WebOTP not supported!.")}),(l,t)=>(e.openBlock(),e.createElementBlock("div",r,[e.createTextVNode(e.toDisplayString(m.value??"")+" ",1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(a,n)=>e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:n,type:"text",class:e.normalizeClass(["digit-box",{bounce:a!==""}]),"onUpdate:modelValue":s=>o.value[n]=s,maxlength:"1",placeholder:o.value[n]??0,onInput:s=>h(s,n),onKeydown:e.withKeys(s=>g(s,n),["backspace"])},null,42,d)),[[e.vModelText,o.value[n]]])),128))]))}}}));
